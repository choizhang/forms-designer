<!DOCTYPE HTML>
<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <title>ueditor demo</title>
    <link rel="stylesheet" href="index.css">
    <!--<link rel="stylesheet" href="themes/default/dialogbase.css">-->
    <link rel="stylesheet" href="third-party/zTreeStyle.css">
    <link rel="stylesheet" href="themes/print.css" media="print"/>
</head>

<body>

<div class="tabs">
    <ul class="navigation">
        <li class="current editorComp_1"><span>视图1</span> <i class="tab-del" title="删除">&times;</i></li>
    </ul>
    <a id="viewAdd" class="view-add" title="添加视图">+</a>
    <a id="output" class="output">导出数据</a>
</div>

<div class="left-right">
    <div class="component-setting">
        <div class="components">
            <div class="color">
                <label>颜色: <input type="color" id="bgColor" value="#000000" class="color"
                                  list="layerBackgroundColor_list"/></label>
                <datalist id="layerBackgroundColor_list">
                    <option>#FFFFFF</option>
                    <option>#000000</option>
                    <option>#ffe600</option>
                    <option>#bff800</option>
                    <option>#7ff201</option>
                    <option>#40f200</option>
                    <option>#18f218</option>
                    <option>#03ce65</option>
                    <option>#00a3a2</option>
                    <option>#0469df</option>
                    <option>#2540ff</option>
                    <option>#4d25ff</option>
                    <option>#7a14f3</option>
                    <option>#be0dbf</option>
                    <option>#f10d58</option>
                    <option>#ff330e</option>
                    <option>#ff6b01</option>
                    <option>#ffb202</option>
                    <option>#00c0ff</option>
                    <option>#1ba1cd</option>
                </datalist>
            </div>

            <div class="font-size">
                <label>字体大小: </label>
                <select id="fontSize">
                    <option value="12px">12px</option>
                    <option value="14px">14px</option>
                    <option value="16px">16px</option>
                    <option value="18px">18px</option>
                </select>
            </div>
        </div>

    </div>
    <ul class="content">
        <li class="view">
            <ul class="toolbar-tabs">
                <li class="current">编辑</li>
                <li>插入</li>
                <li>表格</li>
                <li>工具</li>
                <li>组件</li>
            </ul>
            <ul class="toolbar-content">
                <li>
                    <!-- 加载编辑器的容器 -->
                    <script id="container" name="content" type="text/plain"></script>
                </li>
            </ul>

        </li>
    </ul>

    <div class="domain-tree">
        <h2>我是域结构 <a href="javascript:;" id="domainRefresh">刷新</a></h2>

        <!--<a href="javascript:;">我是链接</a>-->

        <!--<ul class="domain">-->
        <!--<li>域1</li>-->
        <!--<li>域2</li>-->
        <!--<li class="li">-->
        <!--<div style="position: relative;width: 71px;">-->
        <!--<img src="text.png" draggable="true" alt="文本" title="文本" class="icon"-->
        <!--ondragstart="event.dataTransfer.setData('text/plain', 'This text may be dragged'); console.log('ddd') ">-->
        <!--<span style="position: absolute;right: 5px;top: 7px;">姓名</span>-->
        <!--</div>-->
        <!--</li>-->
        <!--</ul>-->

        <ul id="treeDemo" class="ztree"></ul>
        <div id="rMenu">
            <ul>
                <li id="m_power">
                    <ul>
                        <li onclick="domainStructure.addPower(event, 1);">普通</li>
                        <li onclick="domainStructure.addPower(event, 2);">经理</li>
                        <li onclick="domainStructure.addPower(event, 3);">管理员</li>
                    </ul>
                </li>
                <li id="m_add" onclick="domainStructure.addComponent();">插入</li>
            </ul>
        </div>
    </div>
</div>


<script type="text/javascript" src="third-party/jquery-1.10.2.js"></script>
<script type="text/javascript" src="third-party/jquery.ztree.core.js"></script>
<script type="text/javascript" src="third-party/jquery.ztree.exedit.js"></script>

<!-- 配置文件 -->
<script type="text/javascript" src="ueditor.config.js"></script>
<!-- 编辑器源码文件 -->
<script type="text/javascript" src="ueditor.all.js"></script>
<!--<script type="text/javascript" src="ueditor.all.1-4-2.js"></script>-->
<script type="text/javascript" src="component/addCalendar.js"></script>
<script type="text/javascript" src="component/addCustomizeButton.js"></script>
<script type="text/javascript" src="component/addCustomizeCombox.js"></script>
<script type="text/javascript" src="component/addPowerCombox.js"></script>
<script type="text/javascript" src="component/repeatTableDialog.js"></script>
<script type="text/javascript" src="component/createTableDialog.js"></script>
<script type="text/javascript" src="component/commonStyleDialog.js"></script>
<script type="text/javascript" src="domainStructure.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script src="iframe.js"></script>
<!-- 实例化编辑器 -->
<script type="text/javascript">
    var fromServer = {
        "storage": {
            "newCount": 2,
            "storeHtml": "",
            "nodes": [{
                "id": 100,
                "pId": 0,
                "open": true,
                "isParent": true,
                "name": "域结构",
                "level": 0,
                "tId": "treeDemo_1",
                "parentTId": null,
                "zAsync": false,
                "isFirstNode": true,
                "isLastNode": true,
                "isAjaxing": false,
                "isHover": false,
                "editNameFlag": false,
            }]
        }
    }

    var fromServer = {"style":"<style>#field2{width:62px;height:43px;}#field4{width:93px;height:20px;}#field5{width:50px;height:20px;}#field6{width:57px;height:20px;}#field8{font-size: 18px; color: rgb(122, 20, 243);width:50px;height:20px;}#field9{width:50px;height:20px;}</style>","html":"<div>@field2@</div><p>qqqq<br></p><table draggable=\"false\" id=\"field3\" class=\"component com-repeat editorComp_3\"><tbody><tr class=\"firstRow\"><th width=\"\">标题1<hr class=\"component-handle\"></th><th width=\"\">标题2</th><th width=\"\">标题3</th></tr><tr><td width=\"188\" height=\"20\" data-minheight=\"20\" valign=\"top\"><br><div>@field4@</div></td><td width=\"188\" height=\"20\" data-minheight=\"20\" valign=\"top\"><br><div>@field5@</div></td><td width=\"188\" height=\"20\" data-minheight=\"20\" valign=\"top\"><br><div>@field6@</div></td></tr></tbody></table><p>111</p><p>22</p><div>@field8@</div><p>ddd</p><div>@field9@</div><p><br></p>","controlls":{"field2":{"fieldTitle":"我修改"},"formtable103":{"name":"重复表3","fields":{"field4":"文本域4","field5":"文本域5","field6":"文本域6"}},"field7":{"fieldTitle":"文本域7"},"field8":{"fieldTitle":"简单"},"field9":{"fieldTitle":"文本域9"}},"storage":{"newCount":10,"storeHtml":"<table draggable=\"false\" id=\"field2\" class=\"component com-text editorComp_2\"><tbody><tr class=\"firstRow\"><td width=\"62\" height=\"43\"><hr class=\"component-handle\"/><input type=\"text\" class=\"name\" value=\"我修改\" readonly=\"readonly\"/></td></tr></tbody></table><p>qqqq<br/></p><table draggable=\"false\" id=\"field3\" class=\"component com-repeat editorComp_3\"><tbody><tr class=\"firstRow\"><th width=\"\">标题1<hr class=\"component-handle\"/></th><th width=\"\">标题2</th><th width=\"\">标题3</th></tr><tr><td width=\"188\" height=\"20\" data-minheight=\"20\" valign=\"top\"><br/><table draggable=\"false\" id=\"field4\" class=\"component com-text com-inner-text editorComp_4\"><tbody><tr class=\"firstRow\"><td width=\"93\" height=\"20\" data-minheight=\"20\" valign=\"top\"><hr class=\"component-handle\"/><input type=\"text\" class=\"name\" value=\"文本域4\"/></td></tr></tbody></table></td><td width=\"188\" height=\"20\" data-minheight=\"20\" valign=\"top\"><br/><table draggable=\"false\" id=\"field5\" class=\"component com-text com-inner-text editorComp_5\"><tbody><tr class=\"firstRow\"><td width=\"50\" height=\"20\" data-minheight=\"20\" valign=\"top\"><hr class=\"component-handle\"/><input type=\"text\" class=\"name\" value=\"文本域5\"/></td></tr></tbody></table></td><td width=\"188\" height=\"20\" data-minheight=\"20\" valign=\"top\"><br/><table draggable=\"false\" id=\"field6\" class=\"component com-text com-inner-text editorComp_6\"><tbody><tr class=\"firstRow\"><td width=\"57\" height=\"20\" data-minheight=\"20\" valign=\"top\"><hr class=\"component-handle\"/><input type=\"text\" class=\"name\" value=\"文本域6\"/></td></tr></tbody></table></td></tr></tbody></table><p>111</p><p>22</p><table draggable=\"false\" id=\"field8\" class=\"component com-text editorComp_8 focus\"><tbody><tr class=\"firstRow\"><td width=\"50\" height=\"20\"><hr class=\"component-handle\"/><input type=\"text\" class=\"name\" value=\"简单\" readonly=\"readonly\" style=\"font-size: 18px; color: rgb(122, 20, 243);\"/></td></tr></tbody></table><p>ddd</p><table draggable=\"false\" id=\"field9\" class=\"component com-text editorComp_9\"><tbody><tr class=\"firstRow\"><td width=\"50\" height=\"20\"><hr class=\"component-handle\"/><input type=\"text\" class=\"name\" value=\"文本域9\" readonly=\"readonly\"/></td></tr></tbody></table><p><br/></p>","nodes":[{"id":100,"pId":0,"open":true,"isParent":true,"name":"域结构","level":0,"tId":"treeDemo_1","parentTId":null,"zAsync":true,"isFirstNode":true,"isLastNode":true,"isAjaxing":false,"isHover":false,"editNameFlag":false,"children":[{"id":102,"pId":100,"isParent":false,"name":"我修改","level":1,"tId":"treeDemo_2","parentTId":"treeDemo_1","open":false,"zAsync":true,"isFirstNode":true,"isLastNode":false,"isAjaxing":false,"isHover":false,"editNameFlag":false,"isOld":true},{"id":103,"pId":100,"isParent":true,"name":"重复表3","level":1,"tId":"treeDemo_3","parentTId":"treeDemo_1","open":true,"zAsync":true,"isFirstNode":false,"isLastNode":false,"isAjaxing":false,"isHover":false,"editNameFlag":false,"children":[{"id":104,"pId":103,"isParent":false,"name":"文本域4","level":2,"tId":"treeDemo_4","parentTId":"treeDemo_3","open":false,"zAsync":true,"isFirstNode":true,"isLastNode":false,"isAjaxing":false,"isHover":false,"editNameFlag":false,"isOld":true},{"id":105,"pId":103,"isParent":false,"name":"文本域5","level":2,"tId":"treeDemo_5","parentTId":"treeDemo_3","open":false,"zAsync":true,"isFirstNode":false,"isLastNode":false,"isAjaxing":false,"isHover":false,"editNameFlag":false,"isOld":true},{"id":106,"pId":103,"isParent":false,"name":"文本域6","level":2,"tId":"treeDemo_6","parentTId":"treeDemo_3","open":false,"zAsync":true,"isFirstNode":false,"isLastNode":true,"isAjaxing":false,"isHover":false,"editNameFlag":false,"isOld":true}],"isOld":true},{"id":107,"pId":100,"isParent":false,"name":"文本域7","level":1,"tId":"treeDemo_7","parentTId":"treeDemo_1","open":false,"zAsync":true,"isFirstNode":false,"isLastNode":false,"isAjaxing":false,"isHover":false,"editNameFlag":false,"isHide":true,"isOld":true},{"id":108,"pId":100,"isParent":false,"name":"简单","level":1,"tId":"treeDemo_8","parentTId":"treeDemo_1","open":false,"zAsync":true,"isFirstNode":false,"isLastNode":false,"isAjaxing":false,"isHover":true,"editNameFlag":false,"isOld":true},{"id":109,"pId":100,"isParent":false,"name":"文本域9","level":1,"tId":"treeDemo_9","parentTId":"treeDemo_1","open":false,"zAsync":true,"isFirstNode":false,"isLastNode":true,"isAjaxing":false,"isHover":false,"editNameFlag":false,"isOld":true}],"isOld":true}]}}

    //    控制多个编辑器对象
    window.editor = [];

    //    组件标志
    window.newCount = fromServer.storage.newCount - 1;

    setTimeout(function () {
//        iframe初始化,这里2000是随便写的,不严谨
        window.editor[0].setContent(fromServer.storage.storeHtml);

        window.zTreeObj = window.domainStructure.init(fromServer.storage.nodes)
    }, 2000)



</script>

</body>

</html>